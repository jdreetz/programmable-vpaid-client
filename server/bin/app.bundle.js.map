{"version":3,"sources":["webpack:///webpack/bootstrap ec9827eee3cd733dc8f6","webpack:///./src/js/index.js","webpack:///./src/js/Client/Client.js","webpack:///./src/js/Client/VPAIDInterface.js","webpack:///./node_modules/pubsub-js/src/pubsub.js","webpack:///./src/js/UI/Display.js","webpack:///./src/js/Utils/Decorator.js","webpack:///./src/js/Utils/Handlers.js","webpack:///./src/js/Utils/Timing.js","webpack:///./src/js/Utils/Queues.js"],"names":["instance","window","Client","props","getVPAIDAd","width","height","viewMode","desiredBitrate","creativeData","environmentVars","console","log","arguments","applyOverrides","display","slot","AdParameters","parsed","JSON","parse","overrides","e","error","VPAIDInterface","adVolume","paused","expanded","size","publish","fn","event","listenerScope","subscribe","bind","unsubscribe","args","vol","Display","container","el","initEl","appendChild","document","createElement","style","backgroundColor","fontFamily","color","innerHTML","augment","subject","Object","entries","forEach","key","value","defaultFn","operations","reduce","accum","op","repeat","i","push","queue","run","overrideHandler","operation","publisher","ret","delay","dispatch","setTimeout","syncDelay","now","Date","getTime","then","LoopableQueue","cur","result","call","length"],"mappings":"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A,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;ICjQoBc,O;AACnB,mBAAYC,SAAZ,EAAuB;AAAA;;AACrB,SAAKC,EAAL,GAAU,KAAKC,MAAL,EAAV;AACAF,cAAUG,WAAV,CAAsB,KAAKF,EAA3B;AACD;;;;6BAEQ;AACP,UAAMA,KAAKG,SAASC,aAAT,CAAuB,KAAvB,CAAX;AACAJ,SAAGK,KAAH,CAASxC,KAAT,GAAiB,MAAjB;AACAmC,SAAGK,KAAH,CAASvC,MAAT,GAAkB,MAAlB;AACAkC,SAAGK,KAAH,CAASC,eAAT,GAA2B,OAA3B;AACAN,SAAGK,KAAH,CAASE,UAAT,GAAsB,YAAtB;AACAP,SAAGK,KAAH,CAASG,KAAT,GAAiB,OAAjB;AACAR,SAAGS,SAAH,GAAe,6BAAf;;AAEA,aAAOT,EAAP;AACD;;;2BAEM,CAEN;;;;;;kBApBkBF,O;;;;;;;;;;;;;;;;ACArB;;AACA;;AAEO,IAAMY,4BAAU,SAAVA,OAAU,CAACC,OAAD,EAAU9B,SAAV,EAAwB;AAC7C+B,SAAOC,OAAP,CAAehC,SAAf,EAA0BiC,OAA1B,CAAkC,gBAAkB;AAAA;AAAA,QAAhBC,GAAgB;AAAA,QAAXC,KAAW;;AAClD,QAAMC,YAAYN,QAAQI,GAAR,CAAlB;;AAEA,QAAMG,aAAaF,MAAME,UAAN,CAAiBC,MAAjB,CAAyB,UAACC,KAAD,EAAQC,EAAR,EAAe;AACzD,UAAMC,SAAS,OAAOD,GAAGC,MAAV,KAAqB,WAArB,GAAmC,CAAnC,GAAuCD,GAAGC,MAAzD;;AAEA,WAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAID,MAAnB,EAA2BC,GAA3B,EAAgC;AAC9BH,cAAMI,IAAN,CAAW,0BAAgB9B,IAAhB,CAAqB,EAArB,EAAyB2B,EAAzB,EAA6BV,QAAQtB,OAArC,CAAX;AACD;;AAED,aAAO+B,KAAP;AACD,KARkB,EAQhB,EARgB,CAAnB;;AAUA,QAAMK,QAAQ,0BAAkBP,UAAlB,CAAd;AACAP,YAAQI,GAAR,IAAeU,MAAMC,GAAN,CAAUhC,IAAV,CAAe+B,KAAf,CAAf;AACD,GAfD;AAgBD,CAjBM,C;;;;;;;;;;;;;;ACHP;;AAEO,IAAME,4CAAkB,SAAlBA,eAAkB,CAACC,SAAD,EAAYC,SAAZ,EAA0B;AACvD,MAAG,OAAOD,UAAUE,GAAjB,KAAyB,WAA5B,EAAyC;AACvC,QAAGF,UAAUG,KAAb,EAAoB;AAClB,6BAAUH,UAAUG,KAApB;AACD;AACD5D,YAAQC,GAAR,CAAY,WAAZ,EAAyBwD,UAAUE,GAAnC;AACA,WAAOF,UAAUE,GAAjB;AAED,GAPD,MAOO,IAAGF,UAAUI,QAAb,EAAuB;AAC5BC,eAAW,YAAM;AACf9D,cAAQC,GAAR,CAAY,SAAZ,EAAuBwD,UAAUI,QAAjC;AACAH,gBAAUD,UAAUI,QAApB;AACD,KAHD,EAGGJ,UAAUG,KAAV,IAAmB,CAHtB;AAID;AACF,CAdM,C;;;;;;;;;;;;ACFA,IAAMG,gCAAY,SAAZA,SAAY,QAAS;AAChC,MAAIC,MAAM,IAAIC,IAAJ,GAAWC,OAAX,EAAV;AACA,MAAIC,OAAOH,MAAMJ,KAAjB;;AAEA,SAAMI,MAAMG,IAAZ,EAAkB;AAChBH,UAAM,IAAIC,IAAJ,GAAWC,OAAX,EAAN;AACD;AACF,CAPM,C;;;;;;;;;;;;;;;;;;;ICAME,a,WAAAA,a;AACX,yBAAYd,KAAZ,EAAmB;AAAA;;AACjB,SAAKA,KAAL,gCAAiBA,KAAjB;AACA,SAAKe,GAAL,GAAW,CAAX;AACD;;;;0BAEK;AACJ,UAAMC,SAAS,KAAKhB,KAAL,CAAW,KAAKe,GAAhB,EAAqBE,IAArB,EAAf;AACA,WAAKF,GAAL,GAAW,KAAKA,GAAL,IAAY,KAAKf,KAAL,CAAWkB,MAAX,GAAoB,CAAhC,GAAoC,CAApC,GAAwC,KAAKH,GAAL,GAAW,CAA9D;;AAEA,aAAOC,MAAP;AACD","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ec9827eee3cd733dc8f6","import Client from './Client/Client';\nconst instance = new Client(window);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import VPAIDInterface from './VPAIDInterface';\nimport Display from '../UI/Display';\nimport { augment } from '../Utils/Decorator';\n\nexport default class Client extends VPAIDInterface {\n  constructor(props) {\n    super(props);\n    window.getVPAIDAd = () => {\n      return this;\n    };\n  }\n\n  initAd(width, height, viewMode, desiredBitrate, creativeData = {}, environmentVars = {}) {\n    console.log('calling initAd', arguments);\n    this.applyOverrides(creativeData);\n    this.display = new Display(environmentVars.slot);\n\n    return super.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);\n  }\n\n  applyOverrides({ AdParameters }) {\n    try {\n      const parsed = JSON.parse(AdParameters);\n      \n      if(parsed && parsed.overrides) {\n        augment(this, parsed.overrides);\n      }      \n    } catch(e) {\n      console.error(e);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Client/Client.js","import PubSub from 'pubsub-js';\n\nexport default class VPAIDInterface {\n  constructor() {\n    this.adVolume = 0;\n    this.paused = false;\n    this.expanded = false;\n    this.size = { width: 640, height: 360 };\n  }\n\n  initAd(width, height, viewMode, desiredBitrate, creativeData = {}, environmentVars = {}) {\n    this.size.width = width;\n    this.size.height = height;\n    this.viewMode = viewMode;\n    this.creativeData = { ...creativeData };\n    this.environmentVars = { ...environmentVars };\n\n    this.publish('AdLoaded');\n    this.publish('AdDurationChange');\n    return this;\n  }\n\n  startAd() {\n    this.paused = false;\n    this.publish('AdImpression');\n    this.publish('AdStarted');\n    this.publish('AdVideoStart');\n    return this;\n  }\n\n  skipAd() {\n    this.publish('AdSkipped');\n    return this;\n  }\n\n  stopAd() {\n    this.publish('AdStopped');\n    return this;\n  }\n\n  pauseAd() {\n    this.paused = true;\n    this.publish('AdPaused');\n    return this;\n  }\n\n  resumeAd() {\n    this.paused = false;\n    this.publish('AdPlaying');\n    return this;\n  }\n\n  collapseAd() {\n    this.expanded = false;\n    this.publish('AdExpandedChange');\n    return this;\n  }\n\n  expandAd() {\n    this.expanded = true;\n    this.publish('AdExpandedChange');\n    return this;\n  }\n\n  resizeAd(width, height, viewMode) {\n    this.width = width;\n    this.height = height;\n    this.viewMode = viewMode;\n    this.publish('AdSizeChange');\n    return this;\n  }\n\n  subscribe(fn, event, listenerScope) {\n    console.log('subscribing', event, fn);\n    PubSub.subscribe(event, fn.bind(listenerScope));\n    return this;\n  }\n\n  unsubscribe(fn, event) {\n    PubSub.unsubscribe(event, fn);\n    return this;\n  }\n\n  publish(event, args) {\n    console.log('publishing', event);\n    PubSub.publish(event, args);\n    return this;\n  }\n\n  getAdExpanded() {\n    return this.expanded; \n  }\n\n  getAdLinear() {\n    return true; \n  }\n\n  getAdDuration() {\n    console.log('getAdDuration');\n    return -2;\n  }\n\n  getAdRemainingTime() { \n    console.log('getAdRemainingTime');\n    return -2; \n  }\n\n  getAdSkippableState() {\n    return true;\n  }\n\n  getAdVolume() {\n   return this.adVolume;\n  }\n\n  getAdCompanions() { \n    return '';\n  }\n\n  getAdIcons() {\n   return true;\n  }\n\n  getAdHeight() { \n    return this.size.height;\n  }\n\n  getAdWidth() { \n    return this.size.width;\n  }\n\n  handshakeVersion() {\n    return '2.0';\n  }\n\n  setAdVolume(vol) {\n    this.adVolume = vol;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Client/VPAIDInterface.js","/*\nCopyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\nLicense: MIT - http://mrgnrdrck.mit-license.org\n\nhttps://github.com/mroderick/PubSubJS\n*/\n(function (root, factory){\n\t'use strict';\n\n\tvar PubSub = {};\n\troot.PubSub = PubSub;\n\tfactory(PubSub);\n\n\t// AMD support\n\tif (typeof define === 'function' && define.amd){\n\t\tdefine(function() { return PubSub; });\n\n\t// CommonJS and Node.js module support\n\t} else if (typeof exports === 'object'){\n\t\tif (module !== undefined && module.exports) {\n\t\t\texports = module.exports = PubSub; // Node.js specific `module.exports`\n\t\t}\n\t\texports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n\t\tmodule.exports = exports = PubSub; // CommonJS\n\t}\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n\t'use strict';\n\n\tvar messages = {},\n\t\tlastUid = -1;\n\n\tfunction hasKeys(obj){\n\t\tvar key;\n\n\t\tfor (key in obj){\n\t\t\tif ( obj.hasOwnProperty(key) ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t *\tReturns a function that throws the passed exception, for use as argument for setTimeout\n\t *\t@param { Object } ex An Error object\n\t */\n\tfunction throwException( ex ){\n\t\treturn function reThrowException(){\n\t\t\tthrow ex;\n\t\t};\n\t}\n\n\tfunction callSubscriberWithDelayedExceptions( subscriber, message, data ){\n\t\ttry {\n\t\t\tsubscriber( message, data );\n\t\t} catch( ex ){\n\t\t\tsetTimeout( throwException( ex ), 0);\n\t\t}\n\t}\n\n\tfunction callSubscriberWithImmediateExceptions( subscriber, message, data ){\n\t\tsubscriber( message, data );\n\t}\n\n\tfunction deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n\t\tvar subscribers = messages[matchedMessage],\n\t\t\tcallSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n\t\t\ts;\n\n\t\tif ( !messages.hasOwnProperty( matchedMessage ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (s in subscribers){\n\t\t\tif ( subscribers.hasOwnProperty(s)){\n\t\t\t\tcallSubscriber( subscribers[s], originalMessage, data );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createDeliveryFunction( message, data, immediateExceptions ){\n\t\treturn function deliverNamespaced(){\n\t\t\tvar topic = String( message ),\n\t\t\t\tposition = topic.lastIndexOf( '.' );\n\n\t\t\t// deliver the message as it is now\n\t\t\tdeliverMessage(message, message, data, immediateExceptions);\n\n\t\t\t// trim the hierarchy and deliver message to each level\n\t\t\twhile( position !== -1 ){\n\t\t\t\ttopic = topic.substr( 0, position );\n\t\t\t\tposition = topic.lastIndexOf('.');\n\t\t\t\tdeliverMessage( message, topic, data, immediateExceptions );\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction messageHasSubscribers( message ){\n\t\tvar topic = String( message ),\n\t\t\tfound = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),\n\t\t\tposition = topic.lastIndexOf( '.' );\n\n\t\twhile ( !found && position !== -1 ){\n\t\t\ttopic = topic.substr( 0, position );\n\t\t\tposition = topic.lastIndexOf( '.' );\n\t\t\tfound = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));\n\t\t}\n\n\t\treturn found;\n\t}\n\n\tfunction publish( message, data, sync, immediateExceptions ){\n\t\tvar deliver = createDeliveryFunction( message, data, immediateExceptions ),\n\t\t\thasSubscribers = messageHasSubscribers( message );\n\n\t\tif ( !hasSubscribers ){\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( sync === true ){\n\t\t\tdeliver();\n\t\t} else {\n\t\t\tsetTimeout( deliver, 0 );\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t *\tPubSub.publish( message[, data] ) -> Boolean\n\t *\t- message (String): The message to publish\n\t *\t- data: The data to pass to subscribers\n\t *\tPublishes the the message, passing the data to it's subscribers\n\t**/\n\tPubSub.publish = function( message, data ){\n\t\treturn publish( message, data, false, PubSub.immediateExceptions );\n\t};\n\n\t/**\n\t *\tPubSub.publishSync( message[, data] ) -> Boolean\n\t *\t- message (String): The message to publish\n\t *\t- data: The data to pass to subscribers\n\t *\tPublishes the the message synchronously, passing the data to it's subscribers\n\t**/\n\tPubSub.publishSync = function( message, data ){\n\t\treturn publish( message, data, true, PubSub.immediateExceptions );\n\t};\n\n\t/**\n\t *\tPubSub.subscribe( message, func ) -> String\n\t *\t- message (String): The message to subscribe to\n\t *\t- func (Function): The function to call when a new message is published\n\t *\tSubscribes the passed function to the passed message. Every returned token is unique and should be stored if\n\t *\tyou need to unsubscribe\n\t**/\n\tPubSub.subscribe = function( message, func ){\n\t\tif ( typeof func !== 'function'){\n\t\t\treturn false;\n\t\t}\n\n\t\t// message is not registered yet\n\t\tif ( !messages.hasOwnProperty( message ) ){\n\t\t\tmessages[message] = {};\n\t\t}\n\n\t\t// forcing token as String, to allow for future expansions without breaking usage\n\t\t// and allow for easy use as key names for the 'messages' object\n\t\tvar token = 'uid_' + String(++lastUid);\n\t\tmessages[message][token] = func;\n\n\t\t// return token for unsubscribing\n\t\treturn token;\n\t};\n\n\t/* Public: Clears all subscriptions\n\t */\n\tPubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n\t\tmessages = {};\n\t};\n\n\t/*Public: Clear subscriptions by the topic\n\t*/\n\tPubSub.clearSubscriptions = function clearSubscriptions(topic){\n\t\tvar m;\n\t\tfor (m in messages){\n\t\t\tif (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){\n\t\t\t\tdelete messages[m];\n\t\t\t}\n\t\t}\n\t};\n\n\t/* Public: removes subscriptions.\n\t * When passed a token, removes a specific subscription.\n\t * When passed a function, removes all subscriptions for that function\n\t * When passed a topic, removes all subscriptions for that topic (hierarchy)\n\t *\n\t * value - A token, function or topic to unsubscribe.\n\t *\n\t * Examples\n\t *\n\t *\t\t// Example 1 - unsubscribing with a token\n\t *\t\tvar token = PubSub.subscribe('mytopic', myFunc);\n\t *\t\tPubSub.unsubscribe(token);\n\t *\n\t *\t\t// Example 2 - unsubscribing with a function\n\t *\t\tPubSub.unsubscribe(myFunc);\n\t *\n\t *\t\t// Example 3 - unsubscribing a topic\n\t *\t\tPubSub.unsubscribe('mytopic');\n\t */\n\tPubSub.unsubscribe = function(value){\n\t\tvar descendantTopicExists = function(topic) {\n\t\t\t\tvar m;\n\t\t\t\tfor ( m in messages ){\n\t\t\t\t\tif ( messages.hasOwnProperty(m) && m.indexOf(topic) === 0 ){\n\t\t\t\t\t\t// a descendant of the topic exists:\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tisTopic    = typeof value === 'string' && ( messages.hasOwnProperty(value) || descendantTopicExists(value) ),\n\t\t\tisToken    = !isTopic && typeof value === 'string',\n\t\t\tisFunction = typeof value === 'function',\n\t\t\tresult = false,\n\t\t\tm, message, t;\n\n\t\tif (isTopic){\n\t\t\tPubSub.clearSubscriptions(value);\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( m in messages ){\n\t\t\tif ( messages.hasOwnProperty( m ) ){\n\t\t\t\tmessage = messages[m];\n\n\t\t\t\tif ( isToken && message[value] ){\n\t\t\t\t\tdelete message[value];\n\t\t\t\t\tresult = value;\n\t\t\t\t\t// tokens are unique, so we can just stop here\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isFunction) {\n\t\t\t\t\tfor ( t in message ){\n\t\t\t\t\t\tif (message.hasOwnProperty(t) && message[t] === value){\n\t\t\t\t\t\t\tdelete message[t];\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/pubsub-js/src/pubsub.js\n// module id = 3\n// module chunks = 0","export default class Display {\n  constructor(container) {\n    this.el = this.initEl();\n    container.appendChild(this.el);\n  }\n\n  initEl() {\n    const el = document.createElement('div');\n    el.style.width = '100%';\n    el.style.height = '100%';\n    el.style.backgroundColor = 'green';\n    el.style.fontFamily = 'sans-serif';\n    el.style.color = 'white';\n    el.innerHTML = 'Programmable VPAID Creative';\n\n    return el;\n  }\n\n  draw() {\n\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/UI/Display.js","import { overrideHandler } from './Handlers';\nimport { LoopableQueue } from './Queues';\n\nexport const augment = (subject, overrides) => {\n  Object.entries(overrides).forEach(([key, value]) => {\n    const defaultFn = subject[key];\n    \n    const operations = value.operations.reduce( (accum, op) => { \n      const repeat = typeof op.repeat === 'undefined' ? 1 : op.repeat;\n      \n      for(let i = 0; i < repeat; i++) {\n        accum.push(overrideHandler.bind({}, op, subject.publish))\n      }\n\n      return accum;\n    }, []);\n\n    const queue = new LoopableQueue(operations);\n    subject[key] = queue.run.bind(queue);\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/Utils/Decorator.js","import { syncDelay } from './Timing';\n\nexport const overrideHandler = (operation, publisher) => {\n  if(typeof operation.ret !== 'undefined') {\n    if(operation.delay) {\n      syncDelay(operation.delay);\n    }\n    console.log('returning', operation.ret);\n    return operation.ret;\n\n  } else if(operation.dispatch) {\n    setTimeout(() => {\n      console.log('queuing', operation.dispatch);\n      publisher(operation.dispatch);\n    }, operation.delay || 0);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/Utils/Handlers.js","export const syncDelay = delay => {\n  let now = new Date().getTime();\n  let then = now + delay;\n\n  while(now < then) {\n    now = new Date().getTime();\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/Utils/Timing.js","export class LoopableQueue {\n  constructor(queue) {\n    this.queue = [...queue];\n    this.cur = 0;\n  }\n\n  run() {\n    const result = this.queue[this.cur].call();\n    this.cur = this.cur == this.queue.length - 1 ? 0 : this.cur + 1;\n\n    return result;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Utils/Queues.js"],"sourceRoot":""}